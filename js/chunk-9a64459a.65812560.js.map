{"version":3,"sources":["webpack:///./src/views/OrderConfirmation.vue?b476","webpack:///./src/views/OrderConfirmation.vue?0de1","webpack:///src/views/OrderConfirmation.vue","webpack:///./src/views/OrderConfirmation.vue?c85d","webpack:///./src/views/OrderConfirmation.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrderConfirmation_vue_vue_type_style_index_0_id_25e7673b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrderConfirmation_vue_vue_type_style_index_0_id_25e7673b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","xs8","to","newOrder","_v","_s","isBuy","wineInfo","wine","vintage","producer","OtherProducer","size","caseQuantity","currencySign","pricePerUnit","invoiceList","xs4","commission","total","on","click","confirmOrder","staticRenderFns","OrderConfirmationvue_type_script_lang_js_","name","data","isLoading","isComplete","errorText","computed","_objectSpread","Object","vuex_esm","getters","GET_CURRENCY_SIGN","NEW_ORDER","GET_SELECTED_WINE_INFO","GET_INVOICE","parseFloat","toFixed","methods","_this","_payload","caseSizeId","type","pricePerCase","barCodes","uniqueCasesIds","wineId","matchIds","$store","dispatch","actions","CREATE_ORDER","then","err","console","log","isErrors","catch","errors","length","Message","valiationErrors","exception","created","views_OrderConfirmationvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-9a64459a.65812560.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderConfirmation.vue?vue&type=style&index=0&id=25e7673b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderConfirmation.vue?vue&type=style&index=0&id=25e7673b&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{staticClass:\"order-confirmation-container\"},[_c('v-flex',{staticClass:\"order-confirmation-left\",attrs:{\"xs8\":\"\"}},[_c('div',{staticClass:\"back-winedetails\"},[_c('router-link',{attrs:{\"to\":(\"/wine-details/\" + (_vm.newOrder.wineId))}},[_vm._v(\" < \")])],1),_c('div',{staticClass:\"section-title\"},[_vm._v(\"Order Confirmation\")]),_c('div',{staticClass:\"order-confirmation-details\"},[_c('div',{staticClass:\"order-confirmation-details-row\"},[_vm._v(_vm._s(_vm.newOrder.isBuy == 0 ? 'SELL' : 'BUY'))]),_c('div',{staticClass:\"order-confirmation-details-row\"},[_vm._v(\"Wine: \"+_vm._s(_vm.wineInfo.wine.vintage)+\" \"+_vm._s(_vm.wineInfo.wine.producer)+\" \"+_vm._s(_vm.wineInfo.wine.OtherProducer))]),_c('div',{staticClass:\"order-confirmation-details-row\"},[_vm._v(\"Size: \"+_vm._s(_vm.wineInfo.size)+\"l\")]),_c('div',{staticClass:\"order-confirmation-details-row\"},[_vm._v(\"Units: \"+_vm._s(_vm.newOrder.caseQuantity))]),_c('div',{staticClass:\"order-confirmation-details-row\"},[_vm._v(\"Price: \"+_vm._s(_vm.currencySign)+_vm._s(_vm.pricePerUnit))])]),_c('div',{staticClass:\"section-title section-title2\"},[_vm._v(\"Storage\")]),_c('div',{staticClass:\"order-confirmation-details\"},[_c('div',{staticClass:\"order-confirmation-details-row\"},[_vm._v(\"Vindome dev\")])]),_c('div',{staticClass:\"section-title section-title2\"},[_vm._v(\"Billing Address\")]),_c('div',{staticClass:\"order-confirmation-details\"},[_c('div',{staticClass:\"order-confirmation-details-row\"},[_vm._v(\"\\n                \"+_vm._s(_vm.invoiceList)+\"\\n            \")])])]),_c('v-flex',{staticClass:\"order-confirmation-right\",attrs:{\"xs4\":\"\"}},[_c('div',{staticClass:\"section-title\"},[_vm._v(\"Â \")]),_c('div',{staticClass:\"confirm-pay-container\"},[_c('div',{staticClass:\"confirm-pay-container-row\"},[_c('label',{staticClass:\"confirm-pay-container-label\"},[_vm._v(\"Commission\")]),_c('label',{staticClass:\"confirm-pay-container-value\"},[_vm._v(_vm._s(_vm.currencySign)+_vm._s(_vm.newOrder.commission))])]),_c('div',{staticClass:\"confirm-pay-container-row\"},[_c('label',{staticClass:\"confirm-pay-container-label\"},[_vm._v(\"Total cost\")]),_c('label',{staticClass:\"confirm-pay-container-value\"},[_vm._v(_vm._s(_vm.currencySign)+_vm._s(_vm.newOrder.total))])]),_c('v-btn',{staticClass:\"confirm-pay-btn\",on:{\"click\":_vm.confirmOrder}},[_vm._v(\"Confirm & Pay\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-layout class=\"order-confirmation-container\">\r\n        <v-flex class=\"order-confirmation-left\" xs8>\r\n            <div class=\"back-winedetails\">\r\n                <router-link :to=\"`/wine-details/${newOrder.wineId}`\"> < </router-link>\r\n            </div>\r\n            <div class=\"section-title\">Order Confirmation</div>\r\n            <div class=\"order-confirmation-details\">\r\n                <div class=\"order-confirmation-details-row\">{{newOrder.isBuy == 0 ? 'SELL' : 'BUY'}}</div>\r\n                <div class=\"order-confirmation-details-row\">Wine: {{wineInfo.wine.vintage}} {{wineInfo.wine.producer}} {{wineInfo.wine.OtherProducer}}</div>\r\n                <div class=\"order-confirmation-details-row\">Size: {{wineInfo.size}}l</div>\r\n                <div class=\"order-confirmation-details-row\">Units: {{newOrder.caseQuantity}}</div>\r\n                <div class=\"order-confirmation-details-row\">Price: {{currencySign}}{{pricePerUnit}}</div>\r\n            </div>\r\n            <div class=\"section-title section-title2\">Storage</div>\r\n            <div class=\"order-confirmation-details\">\r\n                <div class=\"order-confirmation-details-row\">Vindome dev</div>\r\n            </div>\r\n            <div class=\"section-title section-title2\">Billing Address</div>\r\n            <div class=\"order-confirmation-details\">\r\n                <div class=\"order-confirmation-details-row\">\r\n                    {{invoiceList}}\r\n                </div>\r\n            </div>\r\n        </v-flex>\r\n        <v-flex class=\"order-confirmation-right\" xs4>\r\n            <div class=\"section-title\">&nbsp;</div>\r\n            <div class=\"confirm-pay-container\">\r\n                <div class=\"confirm-pay-container-row\">\r\n                    <label class=\"confirm-pay-container-label\">Commission</label>\r\n                    <label class=\"confirm-pay-container-value\">{{currencySign}}{{newOrder.commission}}</label>\r\n                </div>\r\n                <div class=\"confirm-pay-container-row\">\r\n                    <label class=\"confirm-pay-container-label\">Total cost</label>\r\n                    <label class=\"confirm-pay-container-value\">{{currencySign}}{{newOrder.total}}</label>\r\n                </div>\r\n\r\n                <v-btn class=\"confirm-pay-btn\" v-on:click=\"confirmOrder\">Confirm & Pay</v-btn>\r\n            </div>\r\n        </v-flex>\r\n    </v-layout>\r\n</template>\r\n\r\n<script>\r\n    import { mapGetters } from 'vuex';\r\n    import {AOrders, AUser} from '../store/actions';\r\n    import {GOrders, GCommon, GWines, GUser} from '../store/getters';\r\n\r\n    export default {\r\n        name: \"OrderConfirmation\",\r\n        data() {\r\n            return {\r\n                isLoading: false,\r\n                isComplete: false,\r\n                errorText: ''\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapGetters({\r\n                currencySign: GCommon.GET_CURRENCY_SIGN,\r\n                newOrder: GOrders.NEW_ORDER,\r\n                wineInfo: GWines.GET_SELECTED_WINE_INFO,\r\n                invoiceList : GUser.GET_INVOICE\r\n\r\n            }),\r\n            pricePerUnit() {\r\n                if (this.newOrder.isBuy) {\r\n                    return parseFloat((parseFloat(this.newOrder.total) - parseFloat(this.newOrder.commission)) / parseFloat(this.newOrder.caseQuantity)).toFixed(2);\r\n                } else {\r\n                    return parseFloat((parseFloat(this.newOrder.commission) + parseFloat(this.newOrder.total)) / parseFloat(this.newOrder.caseQuantity)).toFixed(2);\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            confirmOrder() {\r\n                let _payload = {\r\n                    caseSizeId: this.newOrder.caseSizeId,\r\n                    type: this.newOrder.type,\r\n                    pricePerCase: this.newOrder.pricePerCase,\r\n                    isBuy: this.newOrder.isBuy ,\r\n                    barCodes: null,\r\n                    uniqueCasesIds: this.newOrder.uniqueCasesIds,\r\n                    wineId: this.wineInfo.wine.wineId,\r\n                    matchIds: this.newOrder.matchIds,\r\n                    caseQuantity: this.newOrder.caseQuantity\r\n                }\r\n\r\n                this.isLoading = true\r\n\r\n                this.$store.dispatch(AOrders.CREATE_ORDER, _payload).then((err) => {\r\n                    console.log(err)\r\n                    this.isComplete = true\r\n                    this.isErrors = false\r\n                    this.isLoading = false\r\n                }).catch((err) => {\r\n                    if(err.data.errors.length > 0) {\r\n                        this.errorText = err.data.errors[0].Message\r\n                    } else if (err.data.valiationErrors.length > 0) {\r\n                        this.errorText = err.data.valiationErrors[0].exception.Message\r\n                    }\r\n                    this.isComplete = true\r\n                    this.isErrors = true\r\n                    this.isLoading = false\r\n                })\r\n            }\r\n        },\r\n        created() {\r\n            this.$store.dispatch(AUser.GET_INVOICE);\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .order-confirmation-container {\r\n        height: 100%;\r\n        padding: 50px;\r\n    }\r\n    .order-confirmation-left,\r\n    .order-confirmation-right {\r\n        position: relative;\r\n        padding: 15px;\r\n    }\r\n    .section-title {\r\n        font-size: 25px;\r\n    }\r\n    .section-title2 {\r\n        margin-top: 30px;\r\n    }\r\n    .back-winedetails {\r\n        position: absolute;\r\n        top: 0;\r\n        left: -30px;\r\n    }\r\n    .back-winedetails a {\r\n        color: #000;\r\n        font-size: 40px;\r\n        text-decoration: none;\r\n    }\r\n    .order-confirmation-details,\r\n    .confirm-pay-container {\r\n        background: #ccc;\r\n        padding: 10px 15px;\r\n    }\r\n    .confirm-pay-container {\r\n        max-width: 320px;\r\n    }\r\n    .confirm-pay-container-label,\r\n    .confirm-pay-container-value {\r\n        display: inline-block;\r\n        width: 50%;\r\n    }\r\n    .confirm-pay-container-value {\r\n        text-align: right;\r\n        font-weight: bold;\r\n    }\r\n    .confirm-pay-btn {\r\n        background-color: #DEBA65!important;\r\n        border-color: #DEBA65!important;\r\n        margin: 40px auto 0;\r\n        display: block;\r\n    }\r\n    .order-confirmation-details-row {\r\n        font-size: 28px;\r\n        font-weight: bold;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderConfirmation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderConfirmation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderConfirmation.vue?vue&type=template&id=25e7673b&scoped=true&\"\nimport script from \"./OrderConfirmation.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderConfirmation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderConfirmation.vue?vue&type=style&index=0&id=25e7673b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25e7673b\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}